<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>微商小助手</title>

    <link rel="icon" href="data:,">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/xiaozhushou-app/static@main/css/look_great.css">
    <!-- <link rel="stylesheet" href="https://unpkg.com/boltcss/bolt.min.css"> -->

    <!-- <script defer src="https://cdn.jsdelivr.net/gh/xiaozhushou-app/static@main/js/apk-download.js"></script> -->
</head>
<body>
    <button onclick="download('little_helper', cb_download_progress)">下载最新版微商小助手</button>
    <div id="little_helper_download_progress" style="visibility: hidden;">
        <label for="little_helper">小助手下载进度:</label>
        <progress id="little_helper" value="0" max="100" />
    </div>

    <br />
    <br />

    <button onclick="download('download_helper', cb_download_progress)">下载最新版 download-helper</button>
    <div id="download_helper_download_progress" style="visibility: hidden;">
        <label for="download_helper">小助手下载进度:</label>
        <progress id="download_helper" value="0" max="100" />
    </div>

    <script type="text/javascript">
        function cb_download_progress(app, url, max, value) {
            document.querySelector(`#${app}_download_progress`).style.visibility = 'visible'
            document.querySelector(`#${app}`).value = value / max * 100
        }

        let script = document.createElement('script')
        script.defer = true
        script.src = location.hostname.includes('xiaozhushou') ? 'https://cdn.jsdelivr.net/gh/xiaozhushou-app/static@main/js/apk-download.js' : '/js/apk-download.js'
        document.head.appendChild(script)
    </script>
</body>
</html>

